!function(e){"use strict";function t(){this.init.apply(this,arguments)}var i=e.document;t.prototype={init:function(e){this.config=e;var t=e.prefix,i={id:this.createIdNameList(t),klass:this.createClassNameList(t)};if(e.is_ios){var s=this.createAnimationStyle(i.klass.animation);this.element=this.createStyleTag(s)}this.timeLine(i)},createIdNameList:function(e){return{circle:e+"circle",screen:e+"screen",color:e+"color"}},createClassNameList:function(e){return{flash:e+"flash",fadeIn:e+"fade-in",darkness:e+"darkness",animation:e+"animation"}},timeLine:function(e){var t=this,s=this.config.timer_list,a=e.id,n=e.klass;setTimeout(function(){var e=i.getElementsByTagName("head")[0],r=i.getElementById(a.circle),c=i.getElementById(a.screen),o=i.getElementById(a.color);c.setAttribute("class",n.darkness),setTimeout(function(){t.config.is_ios&&e.appendChild(t.element),c.removeAttribute("class"),r.setAttribute("class",n.animation),o.setAttribute("class",n.flash),setTimeout(function(){o.removeAttribute("class"),setTimeout(function(){r.removeAttribute("class")},s[3])},s[2])},s[1])},s[0])},createAnimationStyle:function(e){for(var t=0,i=0,s=1,a="@-webkit-keyframes "+e+"{",n=this.config,r=n.move_count,c=this.decimal(100/r),o=r-1,l=0;r>l;l++)l>=o?(t=n.goal.x,i=n.goal.y):(t=-this.decimal(50*Math.random()),i=-this.decimal(50*Math.random())),a+=this.createKeyframes(c*l,s,t,i);return a+=this.createKeyframes(100,30,0,0)},createStyleTag:function(e){var t=document.createTextNode(e),i=document.createElement("style");return i.media="screen",i.type="text/css",i.appendChild(t),i},createKeyframes:function(e,t,i,s){return 100>e?e+"% {transform: scale("+t+") translate("+i+"%, "+s+"%);} ":e+"% {transform: scale("+t+");} }"},decimal:function(e){return parseInt(10*e)/10}},e.SpotLightAnimation=t}(this.self||global);